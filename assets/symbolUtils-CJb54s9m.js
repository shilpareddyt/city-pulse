const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DYh0j3Yd.js","assets/index-q51HPNg-.css"])))=>i.map(i=>d[i]);
import{bi as g,m1 as _,bQ as A,_ as L}from"./index-DYh0j3Yd.js";import{L as m,M as O,N as F}from"./utils-RCfs1EQs.js";import"./colorUtils-CI-c7EUW.js";var r;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(r||(r={}));const f=g("android");g("chrome")||f&&f>=4;_();r.size;r.maxSize;r.maxOutlineSize;r.lineWidth;r.tallSymbolWidth;function w(e){return e&&"opacity"in e?e.opacity*w(e.parent):1}async function q(e,i){if(!e)return;const h=e.sourceLayer,p=(i!=null&&i.useSourceLayer?h:e.layer)??h,o=i?.ignoreOpacity?1:w(p);if(e.symbol!=null&&(i==null||i.ignoreGraphicSymbol!==!0)){const l=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...i,acceptedFormats:i?.webStyleAcceptedFormats,cache:i?.webStyleCache}):e.symbol.clone();return m(l,null,o),l}const t=i?.renderer??W(p);let a=t&&"getSymbolAsync"in t?await t.getSymbolAsync(e,i):null;if(!a)return;if(a=a.type==="web-style"?await a.fetchSymbol({...i,acceptedFormats:i?.webStyleAcceptedFormats,cache:i?.webStyleCache}):a.clone(),!t||!("visualVariables"in t)||!t.visualVariables?.length)return m(a,null,o),a;if("arcadeRequiredForVisualVariables"in t&&t.arcadeRequiredForVisualVariables&&i?.arcade==null){const l={...i};l.arcade=await A(),i=l}const{getColor:z,getOpacity:V,getAllSizes:v,getRotationAngle:x}=await L(()=>import("./index-DYh0j3Yd.js").then(l=>l.v0),__vite__mapDeps([0,1])),s=[],c=[],u=[],d=[];for(const l of t.visualVariables)switch(l.type){case"color":s.push(l);break;case"opacity":c.push(l);break;case"rotation":d.push(l);break;case"size":l.target||u.push(l)}const S=!!s.length&&s[s.length-1],y=S?z(S,e,i):null,b=!!c.length&&c[c.length-1];let n=b?V(b,e,i):null;if(o!=null&&(n=n!=null?n*o:o),i?.ignoreOpacity&&(n=1),y!=null&&b&&n!=null&&(y.a=1),m(a,y,n),u.length&&i?.ignoreSizeVariables!==!0){const l=v(u,e,i);await O(a,l)}if(i?.ignoreRotationVariables!==!0)for(const l of d)F(a,x(l,e,i),l.axis);return a}function W(e){if(e)return"renderer"in e?e.renderer:void 0}export{q as x};
