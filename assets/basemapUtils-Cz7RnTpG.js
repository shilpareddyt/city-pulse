import{bm as i,bn as u}from"./index-CLxXbLZV.js";function p(e,a){return e.allLayerViews.find(n=>n.uid===a)?.layer.parent===e.map?.basemap}function d(e){return!!e?.baseLayers.concat(e.referenceLayers).some(f)}function f(e){if(l(e.url))return!0;if(e.type==="vector-tile")for(const a in e.sourceNameToSource){const t=e.sourceNameToSource[a];if(l(t?.sourceUrl))return!0}return!1}function R(e,a){if(a==null||e==null)return{spatialReference:null,updating:!1};if(a.loadStatus==="not-loaded")return a.load(),{spatialReference:null,updating:!0};if(a.spatialReference)return{spatialReference:a.spatialReference,updating:!1};if(a.baseLayers.length===0)return{spatialReference:null,updating:!1};const t=a.baseLayers.at(0);switch(t.loadStatus){case"not-loaded":t.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const n=(("supportedSpatialReferences"in t?t.supportedSpatialReferences:null)||["tileInfo"in t?t.tileInfo?.spatialReference:t.spatialReference]).filter(Boolean),r=e.spatialReference;return r?{spatialReference:n.find(s=>r.equals(s))??n[0]??null,updating:!1}:{spatialReference:n[0],updating:!1}}const o=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function l(e){if(!e)return!1;const a=new i(u(e));return!!a.authority&&o.test(a.authority)}export{f as b,p as c,R as d,d as m};
